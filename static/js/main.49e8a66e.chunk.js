(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,n){e.exports=n(96)},39:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){},92:function(e,t,n){},94:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(24),i=n.n(r),s=n(13),u=n(7),c=n(4),l=n(5),d=n(8),m=n(6),p=n(9),f=n(98),h=n(99),b=n(45),v=n(3),O=n(2),w=(n(39),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).getInputProps=function(){var e=Object(O.a)({},n.props);return delete e.saveRef,delete e.id,delete e.label,e},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.label,a=e.saveRef,r=this.getInputProps();return o.a.createElement("div",{className:"input-field"},o.a.createElement("input",Object.assign({},r,{ref:a})),o.a.createElement("label",{htmlFor:t},n))}}]),t}(a.Component)),E=(n(41),function(e){var t=e.className?" "+e.className:"";return o.a.createElement("button",Object.assign({},e,{className:"btn waves-effect waves-light"+t,name:"action"}))}),j="NANO_WYR_USERS",y="NANO_WYR_QUESTIONS",g=function(e){localStorage.setItem(j,JSON.stringify(e))},_=function(e){localStorage.setItem(y,JSON.stringify(e))},q=1e3,S=function(){var e=localStorage.getItem(j);return e?JSON.parse(e):null}()||{sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"https://image.flaticon.com/icons/png/128/145/145847.png",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionOne",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"https://image.flaticon.com/icons/png/128/145/145843.png",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"https://image.flaticon.com/icons/png/128/145/145842.png",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},N=function(){var e=localStorage.getItem(y);return e?JSON.parse(e):null}()||{"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:["sarahedo"],text:"become a superhero"},optionTwo:{votes:["johndoe"],text:"become a supervillian"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function k(e){g(S=e)}function x(e){_(N=e)}function T(e){return new Promise(function(t,n){var a=e.author,o=function(e){var t=e.optionOneText,n=e.optionTwoText,a=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:a,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:n}}}(e);setTimeout(function(){x(Object(O.a)({},N,Object(v.a)({},o.id,o))),k(Object(O.a)({},S,Object(v.a)({},a,Object(O.a)({},S[a],{questions:S[a].questions.concat([o.id])})))),t(o)},q)})}var A=function(){return{type:"SHOW_LOADER"}},C=function(){return{type:"HIDE_LOADER"}},L="SHOW_LOADER",U="HIDE_LOADER",I=function(){return A()},R=function(){return C()},Q="SAVE_USER",V="SAVE_USER_QUESTION",F="SAVE_USER_ANSWER",z="UNSAVE_USER_ANSWER",D="SAVE_ALL_USERS",W=function(e){return{type:"SAVE_USER",payload:e}},M=function(e,t){return{type:"SAVE_USER_QUESTION",payload:{username:e,questionId:t}}},B=function(e,t,n){return{type:"SAVE_USER_ANSWER",payload:{username:e,questionId:t,option:n}}},P=function(e,t){return{type:"UNSAVE_USER_ANSWER",payload:{username:e,questionId:t}}},G=function(e){return{type:"SAVE_ALL_USERS",payload:e}},J=function(){return function(e){return e(I()),new Promise(function(e,t){setTimeout(function(){return e(Object(O.a)({},S))},q)}).then(function(t){e(R()),e(G(t))}).catch(function(t){e(R()),console.warn("Error fetching all users:",t)})}},H=function(e){return{type:"LOGIN_SUCCESS",payload:e}},Y=function(e){return{type:"LOGIN_FAIL",payload:e}},$=function(){return{type:"LOGOUT"}},K="LOGIN_SUCCESS",X="LOGIN_FAIL",Z="LOGOUT",ee=function(e,t){return function(t){return t(I()),function(e,t){return new Promise(function(t,n){setTimeout(function(){var a=S[e];a?t({user:a}):n({message:"Credentials invalid, available users are sarahedo, johndoe and tylermcginnis"})},q)})}(e).then(function(e){t(R()),t(W(e.user)),t(H(e.user.id))}).catch(function(e){t(R()),t(Y(e.message))})}},te=function(){return function(e){return e($())}},ne=(n(43),function(){return o.a.createElement("header",{className:"content content--red"},o.a.createElement("h1",null,"Login area"))}),ae=function(e){var t=e.auth;return t.error?o.a.createElement("p",{className:"login__result"},t.error):null},oe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",password:""},n.updateField=function(e,t){n.setState(Object(v.a)({},t,e.target.value))},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,o=t.password;n.props.login(a.trim(),o.trim()),n.passwordInput.focus(),n.passwordInput.select()},n.fieldsAreEmpty=function(){var e=n.state,t=e.username,a=e.password;return""===t.trim()||""===a.trim()},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.username,a=t.password,r=this.props.auth;return o.a.createElement("form",{className:"login",autoComplete:"off",onSubmit:this.handleFormSubmit},o.a.createElement(ne,null),o.a.createElement("div",{className:"content content--grey"},o.a.createElement(ae,{auth:r}),o.a.createElement(w,{label:"Username",id:"username",type:"text",value:n,onChange:function(t){return e.updateField(t,"username")}}),o.a.createElement(w,{label:"Password",id:"password",type:"password",value:a,onChange:function(t){return e.updateField(t,"password")},saveRef:function(t){return e.passwordInput=t}}),o.a.createElement(E,{disabled:this.fieldsAreEmpty()},"Submit")))}}]),t}(a.Component),re=Object(u.b)(function(e){return{auth:e.auth}},function(e){return{login:function(t,n){return e(ee(t,n))}}})(oe),ie=n(100),se=function(e){var t=e.onClick;return o.a.createElement("i",{className:"material-icons nav__toggle",onClick:t},"format_align_justify")},ue=n(97),ce=function(e){var t=e.to,n=e.onClick,a=e.children,r={exact:e.exact};return o.a.createElement("li",null,o.a.createElement(ue.a,Object.assign({className:"nav__link",to:t,onClick:n},r),a))},le=function(e){var t=e.onClick,n=e.username;return o.a.createElement("li",null,o.a.createElement("span",{to:"/logout",className:"nav__link nav__link--user",onClick:t},"Logout ",o.a.createElement("span",{className:"nav__link__username"},n),o.a.createElement("i",{className:"material-icons tiny"},"person_outline")))},de=(n(48),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={visibleOnSmallBreakpoint:!1},n.toggleMenuVisibility=function(){n.setState(function(e){return{visibleOnSmallBreakpoint:!e.visibleOnSmallBreakpoint}})},n.hideMenu=function(){n.setState({visibleOnSmallBreakpoint:!1})},n.logout=function(){var e=n.props,t=e.logout;e.history.push("/"),t()},n.navigateToHome=function(){n.props.history.goBack()},n.currentPathIsQuestion=function(){return n.props.history.location.pathname.startsWith("/questions")},n.buildNavClassName=function(){return"nav"+(n.state.visibleOnSmallBreakpoint?" nav--toggle-visible":"")},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.username,t=this.currentPathIsQuestion();return o.a.createElement("nav",{className:this.buildNavClassName()},!t&&o.a.createElement(se,{onClick:this.toggleMenuVisibility}),o.a.createElement("ul",null,!t&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ce,{exact:!0,to:"/",onClick:this.hideMenu},"Home"),o.a.createElement(ce,{to:"/add",onClick:this.hideMenu},"Add question"),o.a.createElement(ce,{to:"/leaderboard",onClick:this.hideMenu},"Leaderboard"),o.a.createElement(le,{username:e,onClick:this.logout})),t&&o.a.createElement(ce,{to:"/questions",onClick:this.navigateToHome},"Go Back")))}}]),t}(a.Component)),me=Object(ie.a)(Object(u.b)(function(e){return{username:e.auth.username}},function(e){return{logout:function(){return e(te())}}})(de)),pe=(n(50),function(e){var t=e.text;return o.a.createElement("div",{className:"question-preview__text content--red"},t)}),fe=function(e){var t=e.option,n=e.text,a="question-preview__option--"+(1===t?"one":"two");return o.a.createElement("section",{className:"question-preview__option "+a},o.a.createElement(pe,{text:n}))},he=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).navigateToQuestion=function(){var e=n.props,t=e.question;e.history.push("/questions/"+t.id)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.allowToAnswer,n=e.question,a=n.optionOne,r=n.optionTwo;return o.a.createElement("article",{className:"question-preview",onClick:this.navigateToQuestion},o.a.createElement(fe,{option:1,text:a.text,allowToAnswer:t}),o.a.createElement(fe,{option:2,text:r.text,allowToAnswer:t}))}}]),t}(a.Component),be=Object(ie.a)(Object(u.b)()(he)),ve=(n(52),Object(u.b)(function(e,t){return Object(O.a)({},t,{loading:e.loader})},function(e){return{}})(function(e){var t=e.title,n=e.zeroItemsMessage,a=e.questions,r=e.allowToAnswer,i=e.loading;return o.a.createElement("div",{className:"question-preview-list"},o.a.createElement("h1",null,t),!i&&0===a.length&&o.a.createElement("p",null,n),o.a.createElement("ul",null,a.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(be,{question:e,allowToAnswer:r}))})))})),Oe=(n(54),function(e){var t,n=e.label,a=e.onClick,r=e.selectedCodition;return o.a.createElement("button",{type:"button",onClick:a,className:(t=r,t?"selected":"")},n)}),we=function(e){var t=e.showBothLists,n=e.showUnansweredList,a=e.showAnsweredList,r=e.unanswerdListVisible,i=e.answerdListVisible;return o.a.createElement("section",{className:"list-toggle"},o.a.createElement("span",null,"Showing: "),o.a.createElement(Oe,{label:"both",onClick:t,selectedCodition:r&&i}),o.a.createElement(Oe,{label:"unanswered",onClick:n,selectedCodition:r&&!i}),o.a.createElement(Oe,{label:"answered",onClick:a,selectedCodition:!r&&i}))},Ee=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={unanswerdListVisible:!0,answerdListVisible:!0},n.showBothLists=function(){n.setState({unanswerdListVisible:!0,answerdListVisible:!0})},n.showUnansweredList=function(){n.setState({unanswerdListVisible:!0,answerdListVisible:!1})},n.showAnsweredList=function(){n.setState({unanswerdListVisible:!1,answerdListVisible:!0})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.unansweredQuestions,n=e.answeredQuestions,a=this.state,r=a.unanswerdListVisible,i=a.answerdListVisible;return o.a.createElement("div",null,o.a.createElement(we,{showBothLists:this.showBothLists,showUnansweredList:this.showUnansweredList,showAnsweredList:this.showAnsweredList,unanswerdListVisible:r,answerdListVisible:i}),r&&o.a.createElement(ve,{questions:t,allowToAnswer:!0,title:"Unanswered questions",zeroItemsMessage:"Create a new question using the option in the upper menu"}),i&&o.a.createElement(ve,{questions:n,allowToAnswer:!1,title:"Answered questions",zeroItemsMessage:"You haven't answered any question yet"}))}}]),t}(a.Component),je=function(e,t){return t.timestamp-e.timestamp},ye=Object(u.b)(function(e){var t=Object.values(e.questions),n=e.auth.username,a=e.users.list[n],o=Object.keys(a.answers);return{unansweredQuestions:t.filter(function(e){return-1===o.indexOf(e.id)}).sort(je),answeredQuestions:t.filter(function(e){return-1!==o.indexOf(e.id)}).sort(je)}},function(e){return{}})(Ee),ge=function(e){return 13===e.keyCode},_e=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleEnter=function(e){var t=n.props.handleEnter;ge(e)&&"function"===typeof t&&(e.preventDefault(),t())},n.gainFocusIfShould=function(){n.props.focused&&n.input.focus()},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.gainFocusIfShould()}},{key:"componentDidMount",value:function(){this.gainFocusIfShould()}},{key:"render",value:function(){var e=this,t=this.props,n=t.placeholder,a=t.name,r=t.value,i=t.updateValue;return o.a.createElement("div",{className:"add-question__option input-field"},o.a.createElement("input",{className:"add-question__input",type:"text",name:a,placeholder:n,value:r,onChange:i,onKeyDown:this.handleEnter,ref:function(t){return e.input=t}}))}}]),t}(a.Component),qe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={optionOne:"",optionTwo:"",focusOne:!0,focusTwo:!1},n.giveFocusToOptionTwo=function(){n.setState({focusOne:!1,focusTwo:!0})},n.updateOptionValue=function(e){var t,a=e.target.name,o=e.target.value;n.setState((t={},Object(v.a)(t,a,o),Object(v.a)(t,"focusOne","optionOne"===a),Object(v.a)(t,"focusTwo","optionTwo"===a),t))},n.handleSubmit=function(e){if(e.preventDefault(),n.bothOptionsWereFilled()){var t=n.state,a=t.optionOne,o=t.optionTwo;n.props.addQuestion({optionOne:a,optionTwo:o})}},n.bothOptionsWereFilled=function(){var e=n.state,t=e.optionOne,a=e.optionTwo,o=""!==t.trim(),r=""!==a.trim();return o&&r},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.optionOne,n=e.optionTwo,a=e.focusOne,r=e.focusTwo;return o.a.createElement("form",{onSubmit:this.handleSubmit,autoComplete:"off"},o.a.createElement(_e,{name:"optionOne",placeholder:"this",value:t,updateValue:this.updateOptionValue,handleEnter:this.giveFocusToOptionTwo,focused:a}),o.a.createElement("span",{className:"add-question__option-separator"},"Or"),o.a.createElement(_e,{name:"optionTwo",placeholder:"that",value:n,updateValue:this.updateOptionValue,focused:r}),o.a.createElement(E,{className:"add-question__button",disabled:!this.bothOptionsWereFilled()},"Add"))}}]),t}(a.Component),Se=function(){return o.a.createElement("h1",{className:"add-question__title"},"Would you",o.a.createElement("br",null),"rather")},Ne=function(e){return{type:"SAVE_ALL_QUESTIONS",payload:e}},ke=function(e){return{type:"ADD_QUESTION",payload:e}},xe=function(e,t,n){return{type:"ANSWER_QUESTION",payload:{username:e,questionId:t,option:n}}},Te=function(e,t,n){return{type:"UNANSWER_QUESTION",payload:{username:e,questionId:t,option:n}}},Ae="SAVE_ALL_QUESTIONS",Ce="ADD_QUESTION",Le="ANSWER_QUESTION",Ue="UNANSWER_QUESTION",Ie=function(){return function(e){return e(I()),new Promise(function(e,t){setTimeout(function(){return e(Object(O.a)({},N))},q)}).then(function(t){e(R()),e(Ne(t))}).catch(function(t){e(R()),console.warn("Error fetching all questions:",t)})}},Re=function(e){return function(t){return t(I()),T(e).then(function(e){t(R()),t(ke(e)),t(M(e.author,e.id))}).catch(function(e){t(R()),console.warn("Error fetching all questions:",e)})}},Qe=function(e,t,n){return function(a){return a(xe(e,t,n)),a(B(e,t,n)),function(e){var t=e.authedUser,n=e.qid,a=e.answer;return new Promise(function(e,o){setTimeout(function(){k(Object(O.a)({},S,Object(v.a)({},t,Object(O.a)({},S[t],{answers:Object(O.a)({},S[t].answers,Object(v.a)({},n,a))})))),x(Object(O.a)({},N,Object(v.a)({},n,Object(O.a)({},N[n],Object(v.a)({},a,Object(O.a)({},N[n][a],{votes:N[n][a].votes.concat([t])})))))),e()},q)})}({authedUser:e,qid:t,answer:n}).catch(function(){a(Te(e,t,n)),a(P(e,t)),alert("An error occured in the server, the question could not be saved")})}},Ve=(n(56),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).addQuestion=function(e){var t=n.props,a=t.username,o=t.addQuestion,r=t.history;o(e.optionOne,e.optionTwo,a),r.push("/")},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("section",{className:"add-question"},o.a.createElement(Se,null),o.a.createElement(qe,{addQuestion:this.addQuestion}))}}]),t}(a.Component)),Fe=Object(u.b)(function(e){return{username:e.auth.username}},function(e){return{addQuestion:function(t,n,a){e(Re({optionOneText:t,optionTwoText:n,author:a}))}}})(Ve),ze=(n(58),function(){return o.a.createElement("div",{className:"icons-credit"},"Icons made by"," ",o.a.createElement("a",{href:"http://www.freepik.com/",title:"Freepik",target:"_blank",rel:"noopener noreferrer"},"Freepik")," ","from"," ",o.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon",target:"_blank",rel:"noopener noreferrer"},"www.flaticon.com")," ","is licensed by"," ",o.a.createElement("a",{href:"http://creativecommons.org/licenses/by/3.0/",title:"Creative Commons BY 3.0",target:"_blank",rel:"noopener noreferrer"}," ","CC 3.0 BY"))}),De=function(e){var t=e.user;return o.a.createElement("img",{src:t.avatarURL,alt:t.id+" avatar",className:"leaderboard__avatar"})},We=function(e){var t=e.users;return o.a.createElement("table",{className:"leaderboard centered"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null),o.a.createElement("th",null,"user"),o.a.createElement("th",null,"questions created"),o.a.createElement("th",null,"questions answered"),o.a.createElement("th",null,"rank"))),o.a.createElement("tbody",null,t.map(function(e,t){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,o.a.createElement(De,{user:e})),o.a.createElement("td",null,e.id),o.a.createElement("td",null,e.questions),o.a.createElement("td",null,e.answers),o.a.createElement("td",null,t+1))})))},Me=(n(60),function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldFetchUsers,n=e.fetchAllUsers;t&&n()}},{key:"render",value:function(){var e=this.props.users;return o.a.createElement(a.Fragment,null,o.a.createElement(We,{users:e}),o.a.createElement(ze,null))}}]),t}(a.Component)),Be=Object(u.b)(function(e){var t=Object.values(e.users.list).map(function(e){var t=e.questions.length,n=Object.keys(e.answers).length,a=t+n;return Object(O.a)({},e,{questions:t,answers:n,score:a})}).sort(function(e,t){return t.score-e.score});return{shouldFetchUsers:!e.users.allUsersRequested,users:t}},function(e){return{fetchAllUsers:function(){return e(J())}}})(Me),Pe=function(e){var t=e.answerable,n=e.children,a="question"+(t?" question--answerable":"");return o.a.createElement("section",{className:a},n)},Ge=function(){return o.a.createElement("h1",{className:"question__title"},"Would you rather")},Je=(n(62),function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.author,n=e.avatarURL;return o.a.createElement("div",{className:"question__author"},o.a.createElement("span",null,"a question asked by ",o.a.createElement("span",{className:"question__author-name"},t)),o.a.createElement("img",{src:n,alt:t+" avatar",className:"question__author-avatar"}))}}]),t}(a.Component)),He=Object(u.b)(function(e,t){var n=t.author;return{author:n,avatarURL:e.users.list[n].avatarURL}})(Je),Ye=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).buildClassName=function(){var e=n.props,t=e.optionIndex,a="question__option question__option";return a+=1===t?"--one":"--two",e.optionSelected===t&&(a+=" question__option--selected"),a},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.question,n=e.option,a=e.onClick,r=e.showStatistics,i=e.statistics;return o.a.createElement("article",{className:this.buildClassName(),onClick:function(){return a(n)}},o.a.createElement("span",{className:"question__option-text"},t[n].text),r&&o.a.createElement("span",{className:"question__option-data"},i.votes," votes (",i.percentage,"%)"),o.a.createElement("span",{className:"question__selected-text"},"(selected)"))}}]),t}(a.Component),$e=Object(u.b)(function(e,t){var n=t.question,a=n[t.option].votes.length,o=n.optionOne,r=n.optionTwo,i=(a/(o.votes.length+r.votes.length)*100).toFixed(1),s=e.auth.username,u=-1!==o.votes.indexOf(s)||-1!==r.votes.indexOf(s);return Object(O.a)({},t,{showStatistics:u,statistics:{votes:a,percentage:i}})})(Ye),Ke=function(e){var t=e.question,n=e.optionSelected,a=e.answerQuestion;return o.a.createElement("div",{className:"question__options"},o.a.createElement($e,{question:t,option:"optionOne",optionIndex:1,optionSelected:n,onClick:a}),o.a.createElement("span",{className:"question__separator"},"or"),o.a.createElement($e,{question:t,option:"optionTwo",optionIndex:2,optionSelected:n,onClick:a}))},Xe=n(47),Ze=(n(64),function(e){var t=e.message,n=void 0===t?"Page not found":t,a=e.link,r=void 0===a?"Go home":a,i=e.path,s=void 0===i?"/":i;return o.a.createElement("div",{className:"not-found"},o.a.createElement("span",{className:"not-found__text"},n),o.a.createElement(Xe.a,{className:"not-found__link",to:s},r))}),et=(n(66),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).answerQuestion=function(e){var t=n.props,a=t.username,o=t.question;t.answerable&&n.props.answerQuestion(a,o.id,e)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.questionNotFound,n=e.question,a=e.answerable,r=e.optionSelected;return t?o.a.createElement(Ze,{message:"Question not found"}):o.a.createElement(Pe,{answerable:a},o.a.createElement(Ge,null),o.a.createElement(Ke,{question:n,optionSelected:r,answerQuestion:this.answerQuestion}),o.a.createElement(He,{author:n.author}))}}]),t}(a.Component)),tt=Object(u.b)(function(e,t){var n=t.match.params.id,a=e.questions[n];if(!a)return{questionNotFound:!0};var o=e.auth.username,r=e.users.list[o].answers[n];return{username:o,question:a,answerable:!r,optionSelected:"optionOne"===r?1:"optionTwo"===r?2:-1}},function(e){return{answerQuestion:function(t,n,a){e(Qe(t,n,a))}}})(et),nt=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAllQuestions(),this.props.fetchAllUsers()}},{key:"render",value:function(){return this.props.auth.logged?o.a.createElement(f.a,{basename:"/nano-degree-would-you-rather/"},o.a.createElement("div",{className:"main-container"},o.a.createElement(me,null),o.a.createElement(h.a,null,o.a.createElement(b.a,{exact:!0,path:"/",component:ye}),o.a.createElement(b.a,{exact:!0,path:"/add",component:Fe}),o.a.createElement(b.a,{exact:!0,path:"/leaderboard",component:Be}),o.a.createElement(b.a,{exact:!0,path:"/questions/:id",component:tt}),o.a.createElement(b.a,{component:Ze})))):o.a.createElement(re,null)}}]),t}(a.Component),at=Object(u.b)(function(e){return{auth:e.auth}},function(e){return{fetchAllQuestions:function(){e(Ie())},fetchAllUsers:function(){return e(J())}}})(nt),ot=n(28),rt=n.n(ot),it=(n(92),Object(u.b)(function(e){return{show:e.loader}})(function(e){return e.show?o.a.createElement("div",{className:"loader-outer"},o.a.createElement("div",{className:"loader-inner"},o.a.createElement(rt.a,{type:"Puff",color:"#ff474f",height:"100",width:"100"}))):null})),st=function(e,t){return{logged:!0,username:t.payload,time:Date.now()}},ut=function(e,t){return{logged:!1,error:t.payload}},ct=function(e,t){return{logged:!1}},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return st(e,t);case X:return ut(e,t);case Z:return ct(e,t);default:return e}},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case L:return!0;case U:return!1;default:return e}},mt=n(18),pt=function(e,t){return Object(O.a)({},t.payload)},ft=function(e,t){var n=t.payload;return Object(O.a)({},e,Object(v.a)({},n.id,n))},ht=function(e,t){var n=t.payload,a=n.username,o=n.questionId,r=n.option,i=e[o],s=i[r],u=[].concat(Object(mt.a)(s.votes),[a]);return Object(O.a)({},e,Object(v.a)({},o,Object(O.a)({},i,Object(v.a)({},r,Object(O.a)({},s,{votes:u})))))},bt=function(e,t){var n=t.payload,a=n.username,o=n.questionId,r=n.option,i=e[o],s=i[r],u=s.votes.filter(function(e){return e!==a});return Object(O.a)({},e,Object(v.a)({},o,Object(O.a)({},i,Object(v.a)({},r,Object(O.a)({},s,{votes:u})))))},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return pt(e,t);case Ce:return ft(e,t);case Le:return ht(e,t);case Ue:return bt(e,t);default:return e}},Ot={allUsersRequested:!1,list:{}},wt=function(e,t){var n=t.payload;return Object(O.a)({},e,{list:Object(O.a)({},e.list,Object(v.a)({},n.id,n))})},Et=function(e,t){var n=t.payload,a=n.username,o=n.questionId,r=e.list[a],i=[].concat(Object(mt.a)(r.questions),[o]);return Object(O.a)({},e,{list:Object(O.a)({},e.list,Object(v.a)({},r.id,Object(O.a)({},r,{questions:i})))})},jt=function(e,t){var n=t.payload,a=n.username,o=n.questionId,r=n.option,i=e.list[a],s=Object(O.a)({},i.answers,Object(v.a)({},o,r));return Object(O.a)({},e,{list:Object(O.a)({},e.list,Object(v.a)({},i.id,Object(O.a)({},i,{answers:s})))})},yt=function(e,t){var n=t.payload,a=n.username,o=n.questionId,r=e.list[a],i=Object(O.a)({},r.answers);return delete i[o],Object(O.a)({},e,{list:Object(O.a)({},e.list,Object(v.a)({},r.id,Object(O.a)({},r,{answers:i})))})},gt=function(e,t){return{allUsersRequested:!0,list:Object(O.a)({},t.payload)}},_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return wt(e,t);case V:return Et(e,t);case F:return jt(e,t);case z:return yt(e,t);case D:return gt(e,t);default:return e}},qt=Object(s.c)({auth:lt,loader:dt,questions:vt,users:_t}),St=n(29),Nt=function(e){return function(t){return function(n){console.group(n.type),void 0!==n.payload&&console.log("Payload: ",n.payload);var a=t(n);return console.log("New state: ",e.getState()),console.groupEnd(),a}}},kt=Object(s.a)(St.a,Nt),xt=(n(94),Object(s.d)(qt,kt));i.a.render(o.a.createElement(u.a,{store:xt},o.a.createElement(it,null),o.a.createElement(at,null)),document.getElementById("root"))}},[[30,2,1]]]);
//# sourceMappingURL=main.49e8a66e.chunk.js.map