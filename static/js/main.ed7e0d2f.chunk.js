(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,n){e.exports=n(96)},39:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){},92:function(e,t,n){},94:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(24),i=n.n(r),s=n(7),u=n(4),c=n(5),l=n(8),d=n(6),m=n(9),p=n(98),f=n(99),h=n(45),b=n(3),v=n(2),O=(n(39),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).getInputProps=function(){var e=Object(v.a)({},n.props);return delete e.saveRef,delete e.id,delete e.label,e},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.label,a=e.saveRef,r=this.getInputProps();return o.a.createElement("div",{className:"input-field"},o.a.createElement("input",Object.assign({},r,{ref:a})),o.a.createElement("label",{htmlFor:t},n))}}]),t}(a.Component)),w=(n(41),function(e){var t=e.className?" "+e.className:"";return o.a.createElement("button",Object.assign({},e,{className:"btn waves-effect waves-light"+t,name:"action"}))}),j="NANO_WYR_USERS",E="NANO_WYR_QUESTIONS",y=function(e){localStorage.setItem(j,JSON.stringify(e))},g=function(e){localStorage.setItem(E,JSON.stringify(e))},q=1e3,_=function(){var e=localStorage.getItem(j);return e?JSON.parse(e):null}()||{sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"https://image.flaticon.com/icons/png/128/145/145847.png",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionOne",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"https://image.flaticon.com/icons/png/128/145/145843.png",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"https://image.flaticon.com/icons/png/128/145/145842.png",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},N=function(){var e=localStorage.getItem(E);return e?JSON.parse(e):null}()||{"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:["sarahedo"],text:"become a superhero"},optionTwo:{votes:["johndoe"],text:"become a supervillian"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function S(e){y(_=e)}function k(e){g(N=e)}function x(e){return new Promise(function(t,n){var a=e.author,o=function(e){var t=e.optionOneText,n=e.optionTwoText,a=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:a,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:n}}}(e);setTimeout(function(){k(Object(v.a)({},N,Object(b.a)({},o.id,o))),S(Object(v.a)({},_,Object(b.a)({},a,Object(v.a)({},_[a],{questions:_[a].questions.concat([o.id])})))),t(o)},q)})}var T="LOGIN_SUCCESS",C="LOGIN_FAIL",A="LOGOUT",L="SAVE_USER",I="SAVE_USER_QUESTION",U="SAVE_USER_ANSWER",Q="UNSAVE_USER_ANSWER",V="SAVE_ALL_USERS",R="SAVE_ALL_QUESTIONS",F="ADD_QUESTION",z="ANSWER_QUESTION",D="UNANSWER_QUESTION",M="SHOW_LOADER",B="HIDE_LOADER",P=function(){return{type:M}},W=function(){return{type:B}},J=function(){return P()},G=function(){return W()},H=function(e){return{type:L,payload:e}},Y=function(e,t){return{type:I,payload:{username:e,questionId:t}}},$=function(e,t,n){return{type:U,payload:{username:e,questionId:t,option:n}}},K=function(e,t){return{type:Q,payload:{username:e,questionId:t}}},X=function(e){return{type:V,payload:e}},Z=function(){return function(e){return e(J()),new Promise(function(e,t){setTimeout(function(){return e(Object(v.a)({},_))},q)}).then(function(t){e(G()),e(X(t))}).catch(function(t){e(G()),console.warn("Error fetching all users:",t)})}},ee=function(e){return{type:T,payload:e}},te=function(e){return{type:C,payload:e}},ne=function(){return{type:A}},ae=function(e,t){return function(t){return t(J()),function(e,t){return new Promise(function(t,n){setTimeout(function(){var a=_[e];a?t({user:a}):n({message:"Credentials invalid, available users are sarahedo, johndoe and tylermcginnis"})},q)})}(e).then(function(e){t(G()),t(H(e.user)),t(ee(e.user.id))}).catch(function(e){t(G()),t(te(e.message))})}},oe=function(){return function(e){return e(ne())}},re=(n(43),function(){return o.a.createElement("header",{className:"content content--red"},o.a.createElement("h1",null,"Login area"))}),ie=function(e){var t=e.auth;return t.error?o.a.createElement("p",{className:"login__result"},t.error):null},se=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",password:""},n.updateField=function(e,t){n.setState(Object(b.a)({},t,e.target.value))},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,o=t.password;n.props.login(a.trim(),o.trim()),n.passwordInput.focus(),n.passwordInput.select()},n.fieldsAreEmpty=function(){var e=n.state,t=e.username,a=e.password;return""===t.trim()||""===a.trim()},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.username,a=t.password,r=this.props.auth;return o.a.createElement("form",{className:"login",autoComplete:"off",onSubmit:this.handleFormSubmit},o.a.createElement(re,null),o.a.createElement("div",{className:"content content--grey"},o.a.createElement(ie,{auth:r}),o.a.createElement(O,{label:"Username",id:"username",type:"text",value:n,onChange:function(t){return e.updateField(t,"username")}}),o.a.createElement(O,{label:"Password",id:"password",type:"password",value:a,onChange:function(t){return e.updateField(t,"password")},saveRef:function(t){return e.passwordInput=t}}),o.a.createElement(w,{disabled:this.fieldsAreEmpty()},"Submit")))}}]),t}(a.Component),ue=Object(s.b)(function(e){return{auth:e.auth}},function(e){return{login:function(t,n){return e(ae(t,n))}}})(se),ce=n(100),le=function(e){var t=e.onClick;return o.a.createElement("i",{className:"material-icons nav__toggle",onClick:t},"format_align_justify")},de=n(97),me=function(e){var t=e.to,n=e.onClick,a=e.children,r={exact:e.exact};return o.a.createElement("li",null,o.a.createElement(de.a,Object.assign({className:"nav__link",to:t,onClick:n},r),a))},pe=function(e){var t=e.onClick,n=e.username;return o.a.createElement("li",null,o.a.createElement("span",{to:"/logout",className:"nav__link nav__link--user",onClick:t},"Logout ",o.a.createElement("span",{className:"nav__link__username"},n),o.a.createElement("i",{className:"material-icons tiny"},"person_outline")))},fe=(n(48),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={visibleOnSmallBreakpoint:!1},n.toggleMenuVisibility=function(){n.setState(function(e){return{visibleOnSmallBreakpoint:!e.visibleOnSmallBreakpoint}})},n.hideMenu=function(){n.setState({visibleOnSmallBreakpoint:!1})},n.logout=function(){var e=n.props,t=e.logout;e.history.push("/"),t()},n.navigateToHome=function(){n.props.history.goBack()},n.currentPathIsQuestion=function(){return n.props.history.location.pathname.startsWith("/questions")},n.buildNavClassName=function(){return"nav"+(n.state.visibleOnSmallBreakpoint?" nav--toggle-visible":"")},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.username,t=this.currentPathIsQuestion();return o.a.createElement("nav",{className:this.buildNavClassName()},!t&&o.a.createElement(le,{onClick:this.toggleMenuVisibility}),o.a.createElement("ul",null,!t&&o.a.createElement(o.a.Fragment,null,o.a.createElement(me,{exact:!0,to:"/",onClick:this.hideMenu},"Home"),o.a.createElement(me,{to:"/add",onClick:this.hideMenu},"Add question"),o.a.createElement(me,{to:"/leaderboard",onClick:this.hideMenu},"Leaderboard"),o.a.createElement(pe,{username:e,onClick:this.logout})),t&&o.a.createElement(me,{to:"/questions",onClick:this.navigateToHome},"Go Back")))}}]),t}(a.Component)),he=Object(ce.a)(Object(s.b)(function(e){return{username:e.auth.username}},function(e){return{logout:function(){return e(oe())}}})(fe)),be=(n(50),function(e){var t=e.text;return o.a.createElement("div",{className:"question-preview__text content--red"},t)}),ve=function(e){var t=e.option,n=e.text,a="question-preview__option--"+(1===t?"one":"two");return o.a.createElement("section",{className:"question-preview__option "+a},o.a.createElement(be,{text:n}))},Oe=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).navigateToQuestion=function(){var e=n.props,t=e.question;e.history.push("/questions/"+t.id)},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.allowToAnswer,n=e.question,a=n.optionOne,r=n.optionTwo;return o.a.createElement("article",{className:"question-preview",onClick:this.navigateToQuestion},o.a.createElement(ve,{option:1,text:a.text,allowToAnswer:t}),o.a.createElement(ve,{option:2,text:r.text,allowToAnswer:t}))}}]),t}(a.Component),we=Object(ce.a)(Object(s.b)()(Oe)),je=(n(52),Object(s.b)(function(e,t){return Object(v.a)({},t,{loading:e.loader})},function(e){return{}})(function(e){var t=e.title,n=e.zeroItemsMessage,a=e.questions,r=e.allowToAnswer,i=e.loading;return o.a.createElement("div",{className:"question-preview-list"},o.a.createElement("h1",null,t),!i&&0===a.length&&o.a.createElement("p",null,n),o.a.createElement("ul",null,a.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(we,{question:e,allowToAnswer:r}))})))})),Ee=(n(54),function(e){var t,n=e.label,a=e.onClick,r=e.selectedCodition;return o.a.createElement("button",{type:"button",onClick:a,className:(t=r,t?"selected":"")},n)}),ye=function(e){var t=e.showBothLists,n=e.showUnansweredList,a=e.showAnsweredList,r=e.unanswerdListVisible,i=e.answerdListVisible;return o.a.createElement("section",{className:"list-toggle"},o.a.createElement("span",null,"Showing: "),o.a.createElement(Ee,{label:"both",onClick:t,selectedCodition:r&&i}),o.a.createElement(Ee,{label:"unanswered",onClick:n,selectedCodition:r&&!i}),o.a.createElement(Ee,{label:"answered",onClick:a,selectedCodition:!r&&i}))},ge=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={unanswerdListVisible:!0,answerdListVisible:!0},n.showBothLists=function(){n.setState({unanswerdListVisible:!0,answerdListVisible:!0})},n.showUnansweredList=function(){n.setState({unanswerdListVisible:!0,answerdListVisible:!1})},n.showAnsweredList=function(){n.setState({unanswerdListVisible:!1,answerdListVisible:!0})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.unansweredQuestions,n=e.answeredQuestions,a=this.state,r=a.unanswerdListVisible,i=a.answerdListVisible;return o.a.createElement("div",null,o.a.createElement(ye,{showBothLists:this.showBothLists,showUnansweredList:this.showUnansweredList,showAnsweredList:this.showAnsweredList,unanswerdListVisible:r,answerdListVisible:i}),r&&o.a.createElement(je,{questions:t,allowToAnswer:!0,title:"Unanswered questions",zeroItemsMessage:"Create a new question using the option in the upper menu"}),i&&o.a.createElement(je,{questions:n,allowToAnswer:!1,title:"Answered questions",zeroItemsMessage:"You haven't answered any question yet"}))}}]),t}(a.Component),qe=function(e,t){return t.timestamp-e.timestamp},_e=Object(s.b)(function(e){var t=Object.values(e.questions),n=e.auth.username,a=e.users.list[n],o=Object.keys(a.answers);return{unansweredQuestions:t.filter(function(e){return-1===o.indexOf(e.id)}).sort(qe),answeredQuestions:t.filter(function(e){return-1!==o.indexOf(e.id)}).sort(qe)}},function(e){return{}})(ge),Ne=function(e){return 13===e.keyCode},Se=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).handleEnter=function(e){var t=n.props.handleEnter;Ne(e)&&"function"===typeof t&&(e.preventDefault(),t())},n.gainFocusIfShould=function(){n.props.focused&&n.input.focus()},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){this.gainFocusIfShould()}},{key:"componentDidMount",value:function(){this.gainFocusIfShould()}},{key:"render",value:function(){var e=this,t=this.props,n=t.placeholder,a=t.name,r=t.value,i=t.updateValue;return o.a.createElement("div",{className:"add-question__option input-field"},o.a.createElement("input",{className:"add-question__input",type:"text",name:a,placeholder:n,value:r,onChange:i,onKeyDown:this.handleEnter,ref:function(t){return e.input=t}}))}}]),t}(a.Component),ke=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={optionOne:"",optionTwo:"",focusOne:!0,focusTwo:!1},n.giveFocusToOptionTwo=function(){n.setState({focusOne:!1,focusTwo:!0})},n.updateOptionValue=function(e){var t,a=e.target.name,o=e.target.value;n.setState((t={},Object(b.a)(t,a,o),Object(b.a)(t,"focusOne","optionOne"===a),Object(b.a)(t,"focusTwo","optionTwo"===a),t))},n.handleSubmit=function(e){if(e.preventDefault(),n.bothOptionsWereFilled()){var t=n.state,a=t.optionOne,o=t.optionTwo;n.props.addQuestion({optionOne:a,optionTwo:o})}},n.bothOptionsWereFilled=function(){var e=n.state,t=e.optionOne,a=e.optionTwo,o=""!==t.trim(),r=""!==a.trim();return o&&r},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.optionOne,n=e.optionTwo,a=e.focusOne,r=e.focusTwo;return o.a.createElement("form",{onSubmit:this.handleSubmit,autoComplete:"off"},o.a.createElement(Se,{name:"optionOne",placeholder:"this",value:t,updateValue:this.updateOptionValue,handleEnter:this.giveFocusToOptionTwo,focused:a}),o.a.createElement("span",{className:"add-question__option-separator"},"Or"),o.a.createElement(Se,{name:"optionTwo",placeholder:"that",value:n,updateValue:this.updateOptionValue,focused:r}),o.a.createElement(w,{className:"add-question__button",disabled:!this.bothOptionsWereFilled()},"Add"))}}]),t}(a.Component),xe=function(){return o.a.createElement("h1",{className:"add-question__title"},"Would you",o.a.createElement("br",null),"rather")},Te=function(e){return{type:R,payload:e}},Ce=function(e){return{type:F,payload:e}},Ae=function(e,t,n){return{type:z,payload:{username:e,questionId:t,option:n}}},Le=function(e,t,n){return{type:D,payload:{username:e,questionId:t,option:n}}},Ie=function(){return function(e){return e(J()),new Promise(function(e,t){setTimeout(function(){return e(Object(v.a)({},N))},q)}).then(function(t){e(G()),e(Te(t))}).catch(function(t){e(G()),console.warn("Error fetching all questions:",t)})}},Ue=function(e){return function(t){return t(J()),x(e).then(function(e){t(G()),t(Ce(e)),t(Y(e.author,e.id))}).catch(function(e){t(G()),console.warn("Error fetching all questions:",e)})}},Qe=function(e,t,n){return function(a){return a(Ae(e,t,n)),a($(e,t,n)),function(e){var t=e.authedUser,n=e.qid,a=e.answer;return new Promise(function(e,o){setTimeout(function(){S(Object(v.a)({},_,Object(b.a)({},t,Object(v.a)({},_[t],{answers:Object(v.a)({},_[t].answers,Object(b.a)({},n,a))})))),k(Object(v.a)({},N,Object(b.a)({},n,Object(v.a)({},N[n],Object(b.a)({},a,Object(v.a)({},N[n][a],{votes:N[n][a].votes.concat([t])})))))),e()},q)})}({authedUser:e,qid:t,answer:n}).catch(function(){a(Le(e,t,n)),a(K(e,t)),alert("An error occured in the server, the question could not be saved")})}},Ve=(n(56),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).addQuestion=function(e){var t=n.props,a=t.username,o=t.addQuestion,r=t.history;o(e.optionOne,e.optionTwo,a),r.push("/")},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("section",{className:"add-question"},o.a.createElement(xe,null),o.a.createElement(ke,{addQuestion:this.addQuestion}))}}]),t}(a.Component)),Re=Object(s.b)(function(e){return{username:e.auth.username}},function(e){return{addQuestion:function(t,n,a){e(Ue({optionOneText:t,optionTwoText:n,author:a}))}}})(Ve),Fe=(n(58),function(){return o.a.createElement("div",{className:"icons-credit"},"Icons made by"," ",o.a.createElement("a",{href:"http://www.freepik.com/",title:"Freepik",target:"_blank",rel:"noopener noreferrer"},"Freepik")," ","from"," ",o.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon",target:"_blank",rel:"noopener noreferrer"},"www.flaticon.com")," ","is licensed by"," ",o.a.createElement("a",{href:"http://creativecommons.org/licenses/by/3.0/",title:"Creative Commons BY 3.0",target:"_blank",rel:"noopener noreferrer"}," ","CC 3.0 BY"))}),ze=function(e){var t=e.user;return o.a.createElement("img",{src:t.avatarURL,alt:t.id+" avatar",className:"leaderboard__avatar"})},De=function(e){var t=e.users;return o.a.createElement("table",{className:"leaderboard centered"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null),o.a.createElement("th",null,"user"),o.a.createElement("th",null,"questions created"),o.a.createElement("th",null,"questions answered"),o.a.createElement("th",null,"rank"))),o.a.createElement("tbody",null,t.map(function(e,t){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,o.a.createElement(ze,{user:e})),o.a.createElement("td",null,e.id),o.a.createElement("td",null,e.questions),o.a.createElement("td",null,e.answers),o.a.createElement("td",null,t+1))})))},Me=(n(60),function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldFetchUsers,n=e.fetchAllUsers;t&&n()}},{key:"render",value:function(){var e=this.props.users;return o.a.createElement(a.Fragment,null,o.a.createElement(De,{users:e}),o.a.createElement(Fe,null))}}]),t}(a.Component)),Be=Object(s.b)(function(e){var t=Object.values(e.users.list).map(function(e){var t=e.questions.length,n=Object.keys(e.answers).length,a=t+n;return Object(v.a)({},e,{questions:t,answers:n,score:a})}).sort(function(e,t){return t.score-e.score});return{shouldFetchUsers:!e.users.allUsersRequested,users:t}},function(e){return{fetchAllUsers:function(){return e(Z())}}})(Me),Pe=function(e){var t=e.answerable,n=e.children,a="question"+(t?" question--answerable":"");return o.a.createElement("section",{className:a},n)},We=function(){return o.a.createElement("h1",{className:"question__title"},"Would you rather")},Je=(n(62),function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.author,n=e.avatarURL;return o.a.createElement("div",{className:"question__author"},o.a.createElement("span",null,"a question asked by ",o.a.createElement("span",{className:"question__author-name"},t)),o.a.createElement("img",{src:n,alt:t+" avatar",className:"question__author-avatar"}))}}]),t}(a.Component)),Ge=Object(s.b)(function(e,t){var n=t.author;return{author:n,avatarURL:e.users.list[n].avatarURL}})(Je),He=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).buildClassName=function(){var e=n.props,t=e.optionIndex,a="question__option question__option";return a+=1===t?"--one":"--two",e.optionSelected===t&&(a+=" question__option--selected"),a},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.question,n=e.option,a=e.onClick,r=e.showStatistics,i=e.statistics;return o.a.createElement("article",{className:this.buildClassName(),onClick:function(){return a(n)}},o.a.createElement("span",{className:"question__option-text"},t[n].text),r&&o.a.createElement("span",{className:"question__option-data"},i.votes," votes (",i.percentage,"%)"),o.a.createElement("span",{className:"question__selected-text"},"(selected)"))}}]),t}(a.Component),Ye=Object(s.b)(function(e,t){var n=t.question,a=n[t.option].votes.length,o=n.optionOne,r=n.optionTwo,i=(a/(o.votes.length+r.votes.length)*100).toFixed(1),s=e.auth.username,u=-1!==o.votes.indexOf(s)||-1!==r.votes.indexOf(s);return Object(v.a)({},t,{showStatistics:u,statistics:{votes:a,percentage:i}})})(He),$e=function(e){var t=e.question,n=e.optionSelected,a=e.answerQuestion;return o.a.createElement("div",{className:"question__options"},o.a.createElement(Ye,{question:t,option:"optionOne",optionIndex:1,optionSelected:n,onClick:a}),o.a.createElement("span",{className:"question__separator"},"or"),o.a.createElement(Ye,{question:t,option:"optionTwo",optionIndex:2,optionSelected:n,onClick:a}))},Ke=n(47),Xe=(n(64),function(e){var t=e.message,n=void 0===t?"Page not found":t,a=e.link,r=void 0===a?"Go home":a,i=e.path,s=void 0===i?"/":i;return o.a.createElement("div",{className:"not-found"},o.a.createElement("span",{className:"not-found__text"},n),o.a.createElement(Ke.a,{className:"not-found__link",to:s},r))}),Ze=(n(66),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).answerQuestion=function(e){var t=n.props,a=t.username,o=t.question;t.answerable&&n.props.answerQuestion(a,o.id,e)},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.questionNotFound,n=e.question,a=e.answerable,r=e.optionSelected;return t?o.a.createElement(Xe,{message:"Question not found"}):o.a.createElement(Pe,{answerable:a},o.a.createElement(We,null),o.a.createElement($e,{question:n,optionSelected:r,answerQuestion:this.answerQuestion}),o.a.createElement(Ge,{author:n.author}))}}]),t}(a.Component)),et=Object(s.b)(function(e,t){var n=t.match.params.id,a=e.questions[n];if(!a)return{questionNotFound:!0};var o=e.auth.username,r=e.users.list[o].answers[n];return{username:o,question:a,answerable:!r,optionSelected:"optionOne"===r?1:"optionTwo"===r?2:-1}},function(e){return{answerQuestion:function(t,n,a){e(Qe(t,n,a))}}})(Ze),tt=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAllQuestions(),this.props.fetchAllUsers()}},{key:"render",value:function(){return this.props.auth.logged?o.a.createElement(p.a,{basename:"/nano-degree-would-you-rather/"},o.a.createElement("div",{className:"main-container"},o.a.createElement(he,null),o.a.createElement(f.a,null,o.a.createElement(h.a,{exact:!0,path:"/",component:_e}),o.a.createElement(h.a,{exact:!0,path:"/add",component:Re}),o.a.createElement(h.a,{exact:!0,path:"/leaderboard",component:Be}),o.a.createElement(h.a,{exact:!0,path:"/questions/:id",component:et}),o.a.createElement(h.a,{component:Xe})))):o.a.createElement(ue,null)}}]),t}(a.Component),nt=Object(s.b)(function(e){return{auth:e.auth}},function(e){return{fetchAllQuestions:function(){e(Ie())},fetchAllUsers:function(){return e(Z())}}})(tt),at=n(28),ot=n.n(at),rt=(n(92),Object(s.b)(function(e){return{show:e.loader}})(function(e){return e.show?o.a.createElement("div",{className:"loader-outer"},o.a.createElement("div",{className:"loader-inner"},o.a.createElement(ot.a,{type:"Puff",color:"#ff474f",height:"100",width:"100"}))):null})),it=n(13),st=function(e,t){return{logged:!0,username:t.payload,time:Date.now()}},ut=function(e,t){return{logged:!1,error:t.payload}},ct=function(e,t){return{logged:!1}},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return st(e,t);case C:return ut(e,t);case A:return ct(e,t);default:return e}},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case M:return!0;case B:return!1;default:return e}},mt=n(18),pt=function(e,t){return Object(v.a)({},t.payload)},ft=function(e,t){var n=t.payload;return Object(v.a)({},e,Object(b.a)({},n.id,n))},ht=function(e,t){var n=t.payload,a=n.username,o=n.questionId,r=n.option,i=e[o],s=i[r],u=[].concat(Object(mt.a)(s.votes),[a]);return Object(v.a)({},e,Object(b.a)({},o,Object(v.a)({},i,Object(b.a)({},r,Object(v.a)({},s,{votes:u})))))},bt=function(e,t){var n=t.payload,a=n.username,o=n.questionId,r=n.option,i=e[o],s=i[r],u=s.votes.filter(function(e){return e!==a});return Object(v.a)({},e,Object(b.a)({},o,Object(v.a)({},i,Object(b.a)({},r,Object(v.a)({},s,{votes:u})))))},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return pt(e,t);case F:return ft(e,t);case z:return ht(e,t);case D:return bt(e,t);default:return e}},Ot={allUsersRequested:!1,list:{}},wt=function(e,t){var n=t.payload;return Object(v.a)({},e,{list:Object(v.a)({},e.list,Object(b.a)({},n.id,n))})},jt=function(e,t){var n=t.payload,a=n.username,o=n.questionId,r=e.list[a],i=[].concat(Object(mt.a)(r.questions),[o]);return Object(v.a)({},e,{list:Object(v.a)({},e.list,Object(b.a)({},r.id,Object(v.a)({},r,{questions:i})))})},Et=function(e,t){var n=t.payload,a=n.username,o=n.questionId,r=n.option,i=e.list[a],s=Object(v.a)({},i.answers,Object(b.a)({},o,r));return Object(v.a)({},e,{list:Object(v.a)({},e.list,Object(b.a)({},i.id,Object(v.a)({},i,{answers:s})))})},yt=function(e,t){var n=t.payload,a=n.username,o=n.questionId,r=e.list[a],i=Object(v.a)({},r.answers);return delete i[o],Object(v.a)({},e,{list:Object(v.a)({},e.list,Object(b.a)({},r.id,Object(v.a)({},r,{answers:i})))})},gt=function(e,t){return{allUsersRequested:!0,list:Object(v.a)({},t.payload)}},qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return wt(e,t);case I:return jt(e,t);case U:return Et(e,t);case Q:return yt(e,t);case V:return gt(e,t);default:return e}},_t=Object(it.c)({auth:lt,loader:dt,questions:vt,users:qt}),Nt=n(29),St=function(e){return function(t){return function(n){console.group(n.type),void 0!==n.payload&&console.log("Payload: ",n.payload);var a=t(n);return console.log("New state: ",e.getState()),console.groupEnd(),a}}},kt=Object(it.a)(Nt.a,St),xt=Object(it.d)(_t,kt);n(94);i.a.render(o.a.createElement(s.a,{store:xt},o.a.createElement(rt,null),o.a.createElement(nt,null)),document.getElementById("root"))}},[[30,2,1]]]);
//# sourceMappingURL=main.ed7e0d2f.chunk.js.map