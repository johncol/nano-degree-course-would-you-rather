(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,n){e.exports=n(83)},38:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){},79:function(e,t,n){},81:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(21),i=n.n(r),s=n(13),u=n(11),c=n(6),l=n(7),d=n(9),m=n(8),p=n(10),f=n(84),h=n(23),b=n(2),v=n(3),w=(n(38),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).getInputProps=function(){var e=Object(v.a)({},n.props);return delete e.saveRef,delete e.id,delete e.label,e},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.label,a=e.saveRef,r=this.getInputProps();return o.a.createElement("div",{className:"input-field"},o.a.createElement("input",Object.assign({},r,{ref:a})),o.a.createElement("label",{htmlFor:t},n))}}]),t}(a.Component)),O=(n(40),function(e){var t=e.className?" "+e.className:"";return o.a.createElement("button",Object.assign({},e,{className:"btn waves-effect waves-light"+t,name:"action"}))}),y=1e3,E={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"../../images/snow.jpg",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionOne",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"../../images/tyler.jpg",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"../../images/leaf.jpg",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionOne"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},g={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillian"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function j(e){return new Promise(function(t,n){var a=e.author,o=function(e){var t=e.optionOneText,n=e.optionTwoText,a=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:a,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:n}}}(e);setTimeout(function(){g=Object(v.a)({},g,Object(b.a)({},o.id,o)),E=Object(v.a)({},E,Object(b.a)({},a,Object(v.a)({},E[a],{questions:E[a].questions.concat([o.id])}))),t(o)},y)})}var x=function(){return{type:"SHOW_LOADER"}},_=function(){return{type:"HIDE_LOADER"}},T="SHOW_LOADER",S="HIDE_LOADER",q=function(){return x()},L=function(){return _()},k="SAVE_USER",N=function(e){return{type:"SAVE_USER",payload:e}},A=function(e){return function(t){return t(N(e))}},C=function(e){return{type:"LOGIN_SUCCESS",payload:e}},V=function(e){return{type:"LOGIN_FAIL",payload:e}},I=function(){return{type:"LOGOUT"}},U="LOGIN_SUCCESS",D="LOGIN_FAIL",z="LOGOUT",F=function(e,t){return function(t){return t(q()),function(e,t){return new Promise(function(t,n){setTimeout(function(){var a=E[e];a?t({user:a}):n({message:"Username or password invalid"})},y)})}(e).then(function(e){t(L()),t(A(e.user)),t(C(e.user.id))}).catch(function(e){t(L()),t(V(e.message))})}},Q=function(){return function(e){return e(I())}},R=(n(42),function(){return o.a.createElement("header",{className:"content content--red"},o.a.createElement("h1",null,"Login area"))}),M=function(e){var t=e.auth;return t.error?o.a.createElement("p",{className:"login__result"},t.error):null},B=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",password:""},n.updateField=function(e,t){n.setState(Object(b.a)({},t,e.target.value))},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,o=t.password;n.props.login(a,o),n.passwordInput.focus(),n.passwordInput.select()},n.fieldsAreEmpty=function(){var e=n.state,t=e.username,a=e.password;return""===t.trim()||""===a.trim()},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.username,a=t.password,r=this.props.auth;return o.a.createElement("form",{className:"login",autoComplete:"off",onSubmit:this.handleFormSubmit},o.a.createElement(R,null),o.a.createElement("div",{className:"content content--grey"},o.a.createElement(M,{auth:r}),o.a.createElement(w,{label:"Username",id:"username",type:"text",value:n,onChange:function(t){return e.updateField(t,"username")}}),o.a.createElement(w,{label:"Password",id:"password",type:"password",value:a,onChange:function(t){return e.updateField(t,"password")},saveRef:function(t){return e.passwordInput=t}}),o.a.createElement(O,{disabled:this.fieldsAreEmpty()},"Submit")))}}]),t}(a.Component),P=Object(u.b)(function(e){return{auth:e.auth}},function(e){return{login:function(t,n){return e(F(t,n))}}})(B),G=n(85),W=n(86),H=function(e){var t=e.onClick;return o.a.createElement("i",{className:"material-icons nav__toggle",onClick:t},"format_align_justify")},J=(n(44),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={visibleOnSmallBreakpoint:!1},n.toggleMenuVisibility=function(){n.setState(function(e){return{visibleOnSmallBreakpoint:!e.visibleOnSmallBreakpoint}})},n.hideMenu=function(){n.setState({visibleOnSmallBreakpoint:!1})},n.logout=function(){var e=n.props,t=e.logout;e.history.push("/"),t()},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.username,t="nav"+(this.state.visibleOnSmallBreakpoint?" nav--toggle-visible":"");return o.a.createElement("nav",{className:t},o.a.createElement(H,{onClick:this.toggleMenuVisibility}),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(G.a,{className:"nav__link",exact:!0,to:"/",onClick:this.hideMenu},"Home")),o.a.createElement("li",null,o.a.createElement(G.a,{className:"nav__link",to:"/add-question",onClick:this.hideMenu},"Add question")),o.a.createElement("li",null,o.a.createElement(G.a,{className:"nav__link",to:"/leaderboard",onClick:this.hideMenu},"Leaderboard")),o.a.createElement("li",null,o.a.createElement("span",{to:"/logout",className:"nav__link nav__link--user",onClick:this.logout},"Logout ",o.a.createElement("span",{className:"nav__link__username"},e),o.a.createElement("i",{className:"material-icons tiny"},"person_outline")))))}}]),t}(a.Component)),$=Object(W.a)(Object(u.b)(function(e){return{username:e.auth.username}},function(e){return{logout:function(){return e(Q())}}})(J)),K=(n(47),function(e){var t=e.text;return o.a.createElement("div",{className:"question-preview__text content--red"},t)}),X=function(){return o.a.createElement("button",{className:"question-preview__button content--grey"},o.a.createElement("i",{className:"material-icons"},"check"))},Y=function(e){var t=e.option,n=e.text,a=e.allowToAnswer,r="question-preview__option--"+(1===t?"one":"two");return o.a.createElement("section",{className:"question-preview__option "+r},a&&o.a.createElement(X,null),o.a.createElement(K,{text:n}))},Z=function(e){var t=e.allowToAnswer,n=e.question,a=n.optionOne,r=n.optionTwo;return o.a.createElement("article",{className:"question-preview"},o.a.createElement(Y,{option:1,text:a.text,allowToAnswer:t}),o.a.createElement(Y,{option:2,text:r.text,allowToAnswer:t}))},ee=(n(49),function(e){var t=e.title,n=e.questions,a=e.allowToAnswer;return o.a.createElement("div",{className:"question-preview-list"},o.a.createElement("h1",null,t),o.a.createElement("ul",null,n.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(Z,{question:e,allowToAnswer:a}))})))}),te=(n(51),function(e){var t,n=e.label,a=e.onClick,r=e.selectedCodition;return o.a.createElement("button",{type:"button",onClick:a,className:(t=r,t?"selected":"")},n)}),ne=function(e){var t=e.showBothLists,n=e.showUnansweredList,a=e.showAnsweredList,r=e.unanswerdListVisible,i=e.answerdListVisible;return o.a.createElement("section",{className:"list-toggle"},o.a.createElement("span",null,"Showing: "),o.a.createElement(te,{label:"both",onClick:t,selectedCodition:r&&i}),o.a.createElement(te,{label:"unanswered",onClick:n,selectedCodition:r&&!i}),o.a.createElement(te,{label:"answered",onClick:a,selectedCodition:!r&&i}))},ae=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={unanswerdListVisible:!0,answerdListVisible:!0},n.showBothLists=function(){n.setState({unanswerdListVisible:!0,answerdListVisible:!0})},n.showUnansweredList=function(){n.setState({unanswerdListVisible:!0,answerdListVisible:!1})},n.showAnsweredList=function(){n.setState({unanswerdListVisible:!1,answerdListVisible:!0})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.unansweredQuestions,n=e.answeredQuestions,a=this.state,r=a.unanswerdListVisible,i=a.answerdListVisible;return o.a.createElement("div",null,o.a.createElement(ne,{showBothLists:this.showBothLists,showUnansweredList:this.showUnansweredList,showAnsweredList:this.showAnsweredList,unanswerdListVisible:r,answerdListVisible:i}),r&&o.a.createElement(ee,{questions:t,title:"Unanswered questions",allowToAnswer:!0}),i&&o.a.createElement(ee,{questions:n,title:"Answered questions",allowToAnswer:!1}))}}]),t}(a.Component),oe=Object(u.b)(function(e){var t=Object.values(e.questions),n=e.auth.username,a=e.users[n],o=Object.keys(a.answers);return{unansweredQuestions:t.filter(function(e){return-1===o.indexOf(e.id)}),answeredQuestions:t.filter(function(e){return-1!==o.indexOf(e.id)})}},function(e){return{}})(ae),re=function(e){return 13===e.keyCode},ie=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleEnter=function(e){var t=n.props.handleEnter;re(e)&&"function"===typeof t&&(e.preventDefault(),t())},n.gainFocusIfShould=function(){n.props.focused&&n.input.focus()},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.gainFocusIfShould()}},{key:"componentDidMount",value:function(){this.gainFocusIfShould()}},{key:"render",value:function(){var e=this,t=this.props,n=t.placeholder,a=t.name,r=t.value,i=t.updateValue;return o.a.createElement("div",{className:"add-question__option input-field"},o.a.createElement("input",{className:"add-question__input",type:"text",name:a,placeholder:n,value:r,onChange:i,onKeyDown:this.handleEnter,ref:function(t){return e.input=t}}))}}]),t}(a.Component),se=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={optionOne:"",optionTwo:"",focusOne:!0,focusTwo:!1},n.giveFocusToOptionTwo=function(){n.setState({focusOne:!1,focusTwo:!0})},n.updateOptionValue=function(e){var t,a=e.target.name,o=e.target.value;n.setState((t={},Object(b.a)(t,a,o),Object(b.a)(t,"focusOne","optionOne"===a),Object(b.a)(t,"focusTwo","optionTwo"===a),t))},n.handleSubmit=function(e){if(e.preventDefault(),n.bothOptionsWereFilled()){var t=n.state,a=t.optionOne,o=t.optionTwo;n.props.addQuestion({optionOne:a,optionTwo:o})}},n.bothOptionsWereFilled=function(){var e=n.state,t=e.optionOne,a=e.optionTwo,o=""!==t.trim(),r=""!==a.trim();return o&&r},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.optionOne,n=e.optionTwo,a=e.focusOne,r=e.focusTwo;return o.a.createElement("form",{onSubmit:this.handleSubmit,autoComplete:"off"},o.a.createElement(ie,{name:"optionOne",placeholder:"this",value:t,updateValue:this.updateOptionValue,handleEnter:this.giveFocusToOptionTwo,focused:a}),o.a.createElement("span",{className:"add-question__option-separator"},"Or"),o.a.createElement(ie,{name:"optionTwo",placeholder:"that",value:n,updateValue:this.updateOptionValue,focused:r}),o.a.createElement(O,{className:"add-question__button",disabled:!this.bothOptionsWereFilled()},"Add"))}}]),t}(a.Component),ue=function(){return o.a.createElement("h1",{className:"add-question__title"},"Would you",o.a.createElement("br",null),"rather")},ce=function(e){return{type:"SAVE_ALL_QUESTIONS",payload:e}},le=function(e){return{type:"ADD_QUESTION",payload:e}},de="SAVE_ALL_QUESTIONS",me="ADD_QUESTION",pe=function(){return function(e){return e(q()),new Promise(function(e,t){setTimeout(function(){return e(Object(v.a)({},g))},y)}).then(function(t){e(L()),e(ce(t))}).catch(function(t){e(L()),console.warn("Error fetching all questions:",t)})}},fe=function(e){return function(t){return t(q()),j(e).then(function(e){t(L()),t(le(e))}).catch(function(e){t(L()),console.warn("Error fetching all questions:",e)})}},he=(n(53),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).addQuestion=function(e){var t=n.props,a=t.username,o=t.addQuestion,r=t.history;o(e.optionOne,e.optionTwo,a),r.push("/")},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("section",{className:"add-question"},o.a.createElement(ue,null),o.a.createElement(se,{addQuestion:this.addQuestion}))}}]),t}(a.Component)),be=Object(u.b)(function(e){return{username:e.auth.username}},function(e){return{addQuestion:function(t,n,a){e(fe({optionOneText:t,optionTwoText:n,author:a}))}}})(he),ve=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAllQuestions()}},{key:"render",value:function(){return this.props.auth.logged?o.a.createElement(f.a,{basename:"/nano-degree-would-you-rather/"},o.a.createElement("div",{className:"main-container"},o.a.createElement($,null),o.a.createElement("div",null,o.a.createElement(h.a,{exact:!0,path:"/",component:oe}),o.a.createElement(h.a,{exact:!0,path:"/add-question",component:be})))):o.a.createElement(P,null)}}]),t}(a.Component),we=Object(u.b)(function(e){return{auth:e.auth}},function(e){return{fetchAllQuestions:function(){e(pe())}}})(ve),Oe=n(26),ye=n.n(Oe),Ee=(n(79),Object(u.b)(function(e){return{show:e.loader}})(function(e){return e.show?o.a.createElement("div",{className:"loader-outer"},o.a.createElement("div",{className:"loader-inner"},o.a.createElement(ye.a,{type:"Puff",color:"#ff474f",height:"100",width:"100"}))):null})),ge=function(e,t){return{logged:!0,username:t.payload,time:Date.now()}},je=function(e,t){return{logged:!1,error:t.payload}},xe=function(e,t){return{logged:!1}},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return ge(e,t);case D:return je(e,t);case z:return xe(e,t);default:return e}},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case T:return!0;case S:return!1;default:return e}},Se=function(e,t){return Object(v.a)({},t.payload)},qe=function(e,t){var n=t.payload;return Object(v.a)({},e,Object(b.a)({},n.id,n))},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Se(e,t);case me:return qe(e,t);default:return e}},ke=function(e,t){var n=t.payload;return Object(v.a)({},e,Object(b.a)({},n.id,n))},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return ke(e,t);default:return e}},Ae=Object(s.c)({auth:_e,loader:Te,questions:Le,users:Ne}),Ce=n(27),Ve=function(e){return function(t){return function(n){console.group(n.type),void 0!==n.payload&&console.log("Payload: ",n.payload);var a=t(n);return console.log("New state: ",e.getState()),console.groupEnd(),a}}},Ie=Object(s.a)(Ce.a,Ve),Ue=(n(81),Object(s.d)(Ae,Ie));i.a.render(o.a.createElement(u.a,{store:Ue},o.a.createElement(Ee,null),o.a.createElement(we,null)),document.getElementById("root"))}},[[29,2,1]]]);
//# sourceMappingURL=main.ba1337e5.chunk.js.map